
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Role {
  ADMIN
  PROPIETARIO
  COMERCIO
}

model User {
  id         Int        @id @default(autoincrement())
  email      String     @unique
  password   String
  name       String?
  role       Role       @default(PROPIETARIO)
  createdAt  DateTime   @default(now()) @map("created_at")
  updatedAt  DateTime   @updatedAt @map("updated_at")
  alquileres Alquiler[]
  comercios  Comercio[]
}

model Alquiler {
  id          Int     @id @default(autoincrement())
  titulo      String
  descripcion String?

  capacidad         Int     @default(1)
  dormitorios       Int     @default(1)
  camas             Int     @default(1)
  petFriendly       Boolean @default(false) @map("pet_friendly")
  pileta            Boolean @default(false)
  parrilla          Boolean @default(false)
  wifi              Boolean @default(false)
  cochera           Boolean @default(false)
  aireAcondicionado Boolean @default(false) @map("aire_acondicionado")
  vistaAlMar        Boolean @default(false) @map("vista_al_mar")
  distanciaPlaya    Int?    @map("distancia_playa")

  detalles Json?
  
  fotos    String[]

  propietario   User     @relation(fields: [propietarioId], references: [id])
  propietarioId Int      @map("propietario_id")
  createdAt     DateTime @default(now()) @map("created_at")
  updatedAt     DateTime @updatedAt @map("updated_at")
}

model Comercio {
  id            Int      @id @default(autoincrement())
  nombre        String
  descripcion   String?
  fotos         String[]
  horarios      String?
  mediosDePago  String[] @map("medios_de_pago")
  links         Json?
  propietario   User     @relation(fields: [propietarioId], references: [id])
  propietarioId Int      @map("propietario_id")
  createdAt     DateTime @default(now()) @map("created_at")
  updatedAt     DateTime @updatedAt @map("updated_at")
}
